{
  "plan_id": "plan-20251218-110308",
  "input_task": "你的长任务描述",
  "goal": "Build an auditable AI pipeline that can run tasks overnight and verify results in the morning.",
  "prompt": "\nYou are a planning agent. Break down the user's task into a small number of ordered subtasks (topologically sorted).\nEach subtask must be objective, verifiable, and small enough to complete in one run.\nReturn ONLY JSON matching the schema (no markdown, no comments).\n\nConstraints:\n- plan_id: plan-20251218-110308\n- At most 8 subtasks.\n- Use type \"time_for_certainty\" for every task.\n- Give unique ids (prefix with \"plan-20251218-110308-\" is fine).\n- Dependencies must reference earlier tasks only.\n- Provide concrete acceptance_criteria that can be checked by simple file existence/contents under outputs/ or repo root.\n- Titles and acceptance_criteria may use concise Chinese (推荐中文说明/注释) when free text is needed.\n\nInput task:\n你的长任务描述\nGoal context:\nBuild an auditable AI pipeline that can run tasks overnight and verify results in the morning.\n\nSchema you must follow:\n{\n  \"plan_id\": \"string\",\n  \"tasks\": [\n    {\n      \"id\": \"string\",\n      \"title\": \"string\",\n      \"type\": \"time_for_certainty\",\n      \"priority\": 0,\n      \"estimated_minutes\": 0,\n      \"dependencies\": [\"string\"],\n      \"acceptance_criteria\": [\"string\"]\n    }\n  ]\n}\n",
  "raw_plan": {
    "plan_id": "plan-20251218-110308",
    "tasks": [
      {
        "id": "plan-20251218-110308-1",
        "title": "需求梳理与成功指标定义",
        "type": "time_for_certainty",
        "priority": 1,
        "estimated_minutes": 30,
        "dependencies": [],
        "acceptance_criteria": [
          "文件 outputs/requirements.md 存在",
          "内容包含夜间运行目标、数据来源、审计/合规要求、成功判定指标（至少3条）"
        ]
      },
      {
        "id": "plan-20251218-110308-2",
        "title": "总体架构与数据流设计",
        "type": "time_for_certainty",
        "priority": 2,
        "estimated_minutes": 45,
        "dependencies": [
          "plan-20251218-110308-1"
        ],
        "acceptance_criteria": [
          "文件 outputs/architecture.md 存在",
          "包含主要组件列表、数据流顺序（含输入/输出）、审计日志写入点描述"
        ]
      },
      {
        "id": "plan-20251218-110308-3",
        "title": "调度与编排方案",
        "type": "time_for_certainty",
        "priority": 3,
        "estimated_minutes": 35,
        "dependencies": [
          "plan-20251218-110308-2"
        ],
        "acceptance_criteria": [
          "文件 outputs/schedule.md 存在",
          "记录夜间触发时间、任务顺序/并行性、重试/超时策略、失败处理流程"
        ]
      },
      {
        "id": "plan-20251218-110308-4",
        "title": "日志、监控与告警规范",
        "type": "time_for_certainty",
        "priority": 4,
        "estimated_minutes": 35,
        "dependencies": [
          "plan-20251218-110308-2"
        ],
        "acceptance_criteria": [
          "文件 outputs/observability.md 存在",
          "包含日志字段规范、存储/留存策略、核心监控指标、告警规则（至少2条）"
        ]
      },
      {
        "id": "plan-20251218-110308-5",
        "title": "晨检验证清单",
        "type": "time_for_certainty",
        "priority": 5,
        "estimated_minutes": 25,
        "dependencies": [
          "plan-20251218-110308-3",
          "plan-20251218-110308-4"
        ],
        "acceptance_criteria": [
          "文件 outputs/morning-checklist.md 存在",
          "列出晨间核验步骤（任务状态、指标、数据抽样、审计记录）不少于6项"
        ]
      },
      {
        "id": "plan-20251218-110308-6",
        "title": "风险与缓解措施",
        "type": "time_for_certainty",
        "priority": 6,
        "estimated_minutes": 20,
        "dependencies": [
          "plan-20251218-110308-1",
          "plan-20251218-110308-2"
        ],
        "acceptance_criteria": [
          "文件 outputs/risks.md 存在",
          "列出至少5个主要风险及对应缓解/应急措施"
        ]
      }
    ]
  },
  "created_ts": 1766073804.3492298
}